(self.webpackChunk=self.webpackChunk||[]).push([[8809],{10990:function(t,e){"use strict";e.A={ADD_TO_CART:"add_to_cart",CONTACT:"kapcsolatfelvetel",LOAN_CALCULATION:"hitelkalkulacio"}},40804:function(t,e,n){"use strict";n.d(e,{N:function(){return i},X:function(){return o}});const o={HOVER:"hover",TOGGLE:"toggle"},i={PLAY_FORWARD:"playForward",PLAY_REVERSE:"playReverse",TOGGLE:"toggle",STOP:"stop"}},43950:function(t,e,n){"use strict";n.d(e,{f8:function(){return i},lU:function(){return a},nu:function(){return s}});var o=n(10990);const i=async(t,e)=>{if("function"==typeof gtag)try{const n=await fetch(`/recommended-listings/${t}`);if(200!==n.status)return;const o=await n.json();if(!Array.isArray(o)||0===o.length)return;const i=o.map((t=>({id:t.id,google_business_vertical:"real_estate"})));gtag("event",e,{value:1e6,items:i})}catch(t){}},a=async(t,e,n)=>{try{const o=n?"DELETE":"PUT";return(await fetch(`/hidden-listing/${e}/${t}`,{method:o,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).status}catch(t){}},s=async(t,e)=>{try{const n=e?"DELETE":"PUT",a=await fetch(`/saved-listing/${t}`,{method:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});return e||i(t,o.A.ADD_TO_CART),a.status}catch(t){}}},45619:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});class o{constructor(t,e){this.storage=t,this.namespace=e}hasItem(t){return this.getCurrentList().has(t)}saveItem(t){if(this.hasItem(t))return;const e=this.getCurrentList();e.add(t),this.saveList(Array.from(e))}saveList(t){this.storage.set(this.namespace,t)}getCurrentList(){const t=this.storage.get(this.namespace);return new Set(t||[])}clearAll(){this.storage.set(this.namespace,[])}}},57542:function(t,e,n){"use strict";n.d(e,{C:function(){return i},w:function(){return a}});var o=n(9913);const i=(t={})=>{const{action:e}=t;window.ConsentManager.getStorage(window.ConsentManagerHelper.StorageName.LOCAL_STORAGE).set("after-login-action",t);const n=e.replaceAll("_","-"),i=document.getElementById(`${n}-auth-required-modal`);i.addEventListener("hidden.bs.modal",(()=>{window.icomEvents.authPopupVisibilityEvent({from:e,action:"close"}),window.dispatchEvent(new CustomEvent("auth-modal:hide",{detail:{moduleName:n}}))}),{once:!0});o.A.getOrCreateInstance(i).show(),window.icomEvents.authPopupVisibilityEvent({from:e,action:"open"}),window.dispatchEvent(new CustomEvent("auth-modal:show",{detail:{moduleName:n}}))},a=()=>{if(!0===window.keycloak?.authenticated)return!0;const t=document.getElementById("config-element"),e=t?.dataset?.userData;return JSON.parse(e||"{}").id>0}},81020:function(t,e){"use strict";e.A={SAVE:"save",CHAT:"chat",HIDE:"hide",PHONE_REVEAL:"phone_reveal",M1X:"m1x",SAVE_SEARCH:"save_search",SAVE_SEARCH_AD_OBSERVER:"save_search_ad_observer",OPEN_PREVIOUS_SEARCHES_MODAL:"open_previous_searches_modal",OPEN_PRINT_PAGE:"open_print_page"}},82779:function(t,e,n){"use strict";n(86215);var o=n(45619);class i extends o.A{static LOCALE_STORAGE_NAMESPACE="already_seen";constructor(t){super(t,i.LOCALE_STORAGE_NAMESPACE)}saveId(t){this.saveItem(t)}async synchronize(t){try{const e=this.getCurrentList();if(0===e.size)return;const n=Array.from(e);await t(n),this.clearAll()}catch(t){throw new Error("Cannot synchronize the items with the server")}}}var a=n(57542),s=n(81020),r=n(43950),c=n(10990),d=n(40804);window.addEventListener("DOMContentLoaded",(()=>{document.getElementById("price-stat-box")&&window.icomEvents.detailsPagePriceStatEvent()}));const u=document.getElementById("listing"),l=Number(u.dataset.listingId);window.doSaveOrUnsaveListingRequest=async(t,e,n,o)=>{if(!(0,a.w)())return void(0,a.C)({action:s.A.SAVE});t?window.icomEvents.unsaveAdEvent(e,n,o):window.icomEvents.saveAdEvent(e,n,o);const i=t?"/saved-listing/delete":`/saved-listing/${e}`,d=t?"POST":"PUT",u=t?JSON.stringify({listingIds:[e]}):void 0;try{await fetch(i,{method:d,headers:{Accept:"application/json"},body:u}),t||(0,r.f8)(e,c.A.ADD_TO_CART),window.dispatchEvent(new CustomEvent("save-button:saved-state-change",{detail:{isSaved:!t}}))}catch(t){}};const g=document.getElementsByClassName("save-listing-button");[...g].forEach((t=>{t.addEventListener("click",(()=>{const e="1"===t.dataset.isSaved,n=t.dataset.listingId,o=t.dataset.discriminator,i=t.dataset.listingCity;window.doSaveOrUnsaveListingRequest(e,n,o,i)}))})),window.addEventListener("save-button:saved-state-change",(t=>{const e=t.detail.isSaved;[...g].forEach((t=>{((t,e)=>{const n=t.querySelector(".save-listing-button-saved-text"),o=t.querySelector(".save-listing-button-not-saved-text");e?(t.dataset.isSaved="1",t.setAttribute("data-animated-icon-play-value",d.N.PLAY_REVERSE),o&&o.classList.add("d-none"),n&&n.classList.remove("d-none")):(t.dataset.isSaved="0",t.setAttribute("data-animated-icon-play-value",d.N.PLAY_FORWARD),n&&n.classList.add("d-none"),o&&o.classList.remove("d-none"))})(t,e)}))}));const m=document.getElementById("open-print-page-button");m&&m.addEventListener("click",(t=>{(0,a.w)()||(t.preventDefault(),(0,a.C)({action:s.A.OPEN_PRINT_PAGE}))}));const h=document.getElementById("hide-listing-button");if(h){const t=document.getElementById("hide-listing-button-show-text"),e=document.getElementById("hide-listing-button-hide-text");h.addEventListener("click",(n=>{if(n.preventDefault(),!(0,a.w)())return void(0,a.C)({action:s.A.HIDE});const o="1"===h.dataset.isHidden,i=h.dataset.listingId,r=h.dataset.clusterId,c=h.dataset.listingHiddenText,d=o?"DELETE":"PUT",u=new XMLHttpRequest;o?window.icomEvents.showAdEvent(i,"primary"):window.icomEvents.hideAdEvent(i,"primary"),u.open(d,`/hidden-listing/${r}/${i}`,!0),u.onreadystatechange=()=>{if(4!==u.readyState||200!==u.status)return;!o?(h.dataset.isHidden="1",h.setAttribute("data-animated-icon-play-value","playReverse"),e.classList.add("d-none"),t.classList.remove("d-none"),window.toastService.success({message:c})):(h.dataset.isHidden="0",h.setAttribute("data-animated-icon-play-value","playForward"),t.classList.add("d-none"),e.classList.remove("d-none"))},u.send()}))}const f=new i(window.ConsentManager.getStorage(window.ConsentManagerHelper.StorageName.LOCAL_STORAGE));f.hasItem(l)||f.saveId(l);[...document.getElementsByClassName("send-message-button")].forEach((t=>{t.addEventListener("click",(t=>{const{discriminator:e}=t.currentTarget.dataset;window.ConsentManager.getStorage(window.ConsentManagerHelper.StorageName.LOCAL_STORAGE).set("last-chat-open-location",e)}))})),document.addEventListener("DOMContentLoaded",(function(){(()=>{const t=document.getElementById("listing-description"),e=document.getElementById("description-read-more-button");if(!t||!e)return;const n=t.getAttribute("data-max-mobile-height")||400,o=t.clientHeight;t.classList.toggle("show-read-more",o>n),e.classList.toggle("d-none",o<=n),e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),t.classList.remove("show-read-more"),e.currentTarget.remove(),window.icomEvents.detailsPageSummaryExpandEvent()}))})(),setTimeout((()=>{const t=window.ConsentManager.getStorage(window.ConsentManagerHelper.StorageName.LOCAL_STORAGE),e="after-login-action",n=t.get(e);if(t.remove(e),n&&"string"!=typeof n&&(0,a.w)())switch(n.action){case s.A.SAVE:document.querySelector(".save-listing-button").click();break;case s.A.CHAT:document.querySelector(".send-message-button").click();break;case s.A.HIDE:h.click();break;case s.A.PHONE_REVEAL:window.dispatchEvent(new CustomEvent("auto-reveal-phone-number"));break;default:return}}),1e3)}))},86215:function(t,e){var n,o,i;o=[],n=function(){"use strict";var t=function(t){return t&&"getComputedStyle"in window&&"smooth"===window.getComputedStyle(t)["scroll-behavior"]};if("undefined"==typeof window||!("document"in window))return{};var e=function(e,n,o){var i;n=n||999,o||0===o||(o=9);var a=function(t){i=t},s=function(){clearTimeout(i),a(0)},r=function(t){return Math.max(0,e.getTopOf(t)-o)},c=function(o,i,r){if(s(),0===i||i&&i<0||t(e.body))e.toY(o),r&&r();else{var c=e.getY(),d=Math.max(0,o)-c,u=(new Date).getTime();i=i||Math.min(Math.abs(d),n),function t(){a(setTimeout((function(){var n=Math.min(1,((new Date).getTime()-u)/i),o=Math.max(0,Math.floor(c+d*(n<.5?2*n*n:n*(4-2*n)-1)));e.toY(o),n<1&&e.getHeight()+o<e.body.scrollHeight?t():(setTimeout(s,99),r&&r())}),9))}()}},d=function(t,e,n){c(r(t),e,n)},u=function(t,n,i){var a=t.getBoundingClientRect().height,s=e.getTopOf(t)+a,u=e.getHeight(),l=e.getY(),g=l+u;r(t)<l||a+o>u?d(t,n,i):s+o>g?c(s-u+o,n,i):i&&i()},l=function(t,n,o,i){c(Math.max(0,e.getTopOf(t)-e.getHeight()/2+(o||t.getBoundingClientRect().height/2)),n,i)};return{setup:function(t,e){return(0===t||t)&&(n=t),(0===e||e)&&(o=e),{defaultDuration:n,edgeOffset:o}},to:d,toY:c,intoView:u,center:l,stop:s,moving:function(){return!!i},getY:e.getY,getTopOf:e.getTopOf}},n=document.documentElement,o=function(){return window.scrollY||n.scrollTop},i=e({body:document.scrollingElement||document.body,toY:function(t){window.scrollTo(0,t)},getY:o,getHeight:function(){return window.innerHeight||n.clientHeight},getTopOf:function(t){return t.getBoundingClientRect().top+o()-n.offsetTop}});if(i.createScroller=function(t,o,i){return e({body:t,toY:function(e){t.scrollTop=e},getY:function(){return t.scrollTop},getHeight:function(){return Math.min(t.clientHeight,window.innerHeight||n.clientHeight)},getTopOf:function(t){return t.offsetTop}},o,i)},"addEventListener"in window&&!window.noZensmooth&&!t(document.body)){var a="history"in window&&"pushState"in history,s=a&&"scrollRestoration"in history;s&&(history.scrollRestoration="auto"),window.addEventListener("load",(function(){s&&(setTimeout((function(){history.scrollRestoration="manual"}),9),window.addEventListener("popstate",(function(t){t.state&&"zenscrollY"in t.state&&i.toY(t.state.zenscrollY)}),!1)),window.location.hash&&setTimeout((function(){var t=i.setup().edgeOffset;if(t){var e=document.getElementById(window.location.href.split("#")[1]);if(e){var n=Math.max(0,i.getTopOf(e)-t),o=i.getY()-n;0<=o&&o<9&&window.scrollTo(0,n)}}}),9)}),!1);var r=new RegExp("(^|\\s)noZensmooth(\\s|$)");window.addEventListener("click",(function(t){for(var e=t.target;e&&"A"!==e.tagName;)e=e.parentNode;if(!(!e||1!==t.which||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)){if(s){var n=history.state&&"object"==typeof history.state?history.state:{};n.zenscrollY=i.getY();try{history.replaceState(n,"")}catch(t){}}var o=e.getAttribute("href")||"";if(0===o.indexOf("#")&&!r.test(e.className)){var c=0,d=document.getElementById(o.substring(1));if("#"!==o){if(!d)return;c=i.getTopOf(d)}t.preventDefault();var u=function(){window.location=o},l=i.setup().edgeOffset;l&&(c=Math.max(0,c-l),a&&(u=function(){history.pushState({},"",o)})),i.toY(c,null,u)}}}),!1)}return i}(),void 0===(i="function"==typeof n?n.apply(e,o):n)||(t.exports=i)}},function(t){t.O(0,[9913],(function(){return e=82779,t(t.s=e);var e}));t.O()}]);